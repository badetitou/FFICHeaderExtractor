FFISharedPool is an abstract class which provides the following feature:

When we  use FFI  to call a certain library it's quite common that we need to pass as argument certain constants (for example, SIGKILL to kill()). These constants are defined in C header files and can even change it's value in different paltforms. 
These constants also are sometimes defined by the C preprocessor and so there is not way to get those values from FFI. If you don't have the value of those constants, you cannot make the FFI call. 

This class allows 2 things:

1) Given the class variables (each class variable with the same name as the constant) defined in subclasses (for example SIGKILL, SIGTERM, etc), this class allows  the developers of a FFI tool, to automatically create a C program that writes all constants values, compile it, run it, and create a Smalltalk  init method which initializes the shared pool constants based on C program output. This autogenerated init method can then be distributed with the rest of the FFI tool. There must be an init method per platform where the FFI should run (#initVariablesunix32, #initVariablesMacOS32, etc). 

For all above task, this class coolaborates with FFICHeaderExtractor (please read it's class comment).


2) At system startup, this class checks in every subclass if platform has changed (the image could have been moved to another OS) or if the shared pool was never initialized before. If it has to do the initialize the class for whatever reason, it will lookup the correct init method for the current platform  (#initVariablesunix32, #initVariablesMacOS32, etc)  and perform the initialization. 

Each concrete subclass of OSPlatform, must implement the correct #cHeaderExtractorFor:  and send the correct message to the shared pool (#unix32Extractor, #macOS32Extractor, etc). This is a double dispath. 

Subclasses must override #headersContainingVariables with the C header files in which the constants are defined (for example, 'signal.h'). They may also override #unix32Extractor, #macOSX32Extractor, if they need to specify more info (like #includeFiles: '/whatever/path/include32' ).



